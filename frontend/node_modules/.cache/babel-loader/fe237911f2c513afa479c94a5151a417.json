{"ast":null,"code":"import _slicedToArray from \"/Users/chloe/Documents/Cours/ING4/Techno Web/PROJECT_WEB_OCRES/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/chloe/Documents/Cours/ING4/Techno Web/PROJECT_WEB_OCRES/frontend/src/components/meteo/Meteo.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport \"./Meteo.css\";\nimport axios from 'axios';\nexport default function Meteo() {\n  // const [temp, setTemp] = useState([]);\n  // const [description, setDescription] = useState([]);\n  // const [name, setName] = useState([]);\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        lat = _useState2[0],\n        setLat = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        long = _useState4[0],\n        setLong = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        data = _useState6[0],\n        setData = _useState6[1];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        setLat(position.coords.latitude);\n        setLong(position.coords.longitude);\n      });\n      await fetch(\"\".concat(process.env.REACT_APP_API_URL, \"/weather/?lat=\").concat(lat, \"&lon=\").concat(long, \"&units=metric&APPID=\").concat(process.env.REACT_APP_API_KEY)).then(res => res.json()).then(result => {\n        setData(result);\n        console.log(result);\n      });\n    };\n\n    fetchData();\n  }, [lat, long]);\n  return React.createElement(\"div\", {\n    class: \"meteo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, typeof data.main != 'undefined' ? React.createElement(Weather, {\n    weatherData: data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"itemsTitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"M\\xE9t\\xE9o\"), React.createElement(\"div\", {\n    className: \"meteoContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"meteoLocation\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Paris\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"meteoTemperature\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"5\\xB0C\")));\n}","map":{"version":3,"sources":["/Users/chloe/Documents/Cours/ING4/Techno Web/PROJECT_WEB_OCRES/frontend/src/components/meteo/Meteo.jsx"],"names":["React","useEffect","useState","axios","Meteo","lat","setLat","long","setLong","data","setData","fetchData","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","fetch","process","env","REACT_APP_API_URL","REACT_APP_API_KEY","then","res","json","result","console","log","main"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,aAAP;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,eAAe,SAASC,KAAT,GAAiB;AAEhC;AACA;AACA;AAJgC,oBAKVF,QAAQ,CAAC,EAAD,CALE;AAAA;AAAA,QAKzBG,GALyB;AAAA,QAKpBC,MALoB;;AAAA,qBAMRJ,QAAQ,CAAC,EAAD,CANA;AAAA;AAAA,QAMzBK,IANyB;AAAA,QAMnBC,OANmB;;AAAA,qBAORN,QAAQ,CAAC,EAAD,CAPA;AAAA;AAAA,QAOzBO,IAPyB;AAAA,QAOnBC,OAPmB;;AAShCT,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMU,SAAS,GAAG,YAAY;AAC1BC,MAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,UAAUC,QAAV,EAAoB;AACzDT,QAAAA,MAAM,CAACS,QAAQ,CAACC,MAAT,CAAgBC,QAAjB,CAAN;AACAT,QAAAA,OAAO,CAACO,QAAQ,CAACC,MAAT,CAAgBE,SAAjB,CAAP;AACH,OAHD;AAKA,YAAMC,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,iBAAhB,2BAAkDjB,GAAlD,kBAA6DE,IAA7D,iCAAwFa,OAAO,CAACC,GAAR,CAAYE,iBAApG,EAAL,CACDC,IADC,CACIC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADX,EAEDF,IAFC,CAEIG,MAAM,IAAI;AACZjB,QAAAA,OAAO,CAACiB,MAAD,CAAP;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACH,OALC,CAAN;AAMH,KAZD;;AAaAhB,IAAAA,SAAS;AACZ,GAfQ,EAeN,CAACN,GAAD,EAAME,IAAN,CAfM,CAAT;AAkBA,SAEI;AAAK,IAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACM,OAAOE,IAAI,CAACqB,IAAZ,IAAoB,WAArB,GACD,oBAAC,OAAD;AAAS,IAAA,WAAW,EAAErB,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADC,GAGD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAMI;AAAM,IAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBANJ,EAOI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,EACgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADhD,EAEI;AAAM,IAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,CAPJ,CAFJ;AAcC","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport \"./Meteo.css\"\n\nimport axios from 'axios';\n\n\nexport default function Meteo() {\n\n// const [temp, setTemp] = useState([]);\n// const [description, setDescription] = useState([]);\n// const [name, setName] = useState([]);\nconst [lat, setLat] = useState([]);\nconst [long, setLong] = useState([]);\nconst [data, setData] = useState([]);\n\nuseEffect(() => {\n    const fetchData = async () => {\n        navigator.geolocation.getCurrentPosition(function (position) {\n            setLat(position.coords.latitude);\n            setLong(position.coords.longitude);\n        });\n\n        await fetch(`${process.env.REACT_APP_API_URL}/weather/?lat=${lat}&lon=${long}&units=metric&APPID=${process.env.REACT_APP_API_KEY}`)\n            .then(res => res.json())\n            .then(result => {\n                setData(result)\n                console.log(result);\n            });\n    }\n    fetchData();\n}, [lat, long])\n\n\nreturn (\n\n    <div class=\"meteo\">\n        {(typeof data.main != 'undefined') ? (\n        <Weather weatherData={data}/>\n      ): (\n        <div></div>\n      )}\n        <span className=\"itemsTitle\">Météo</span>\n        <div className=\"meteoContainer\">\n            <span className=\"meteoLocation\">Paris</span><br />\n            <span className=\"meteoTemperature\">5°C</span>\n        </div>\n    </div>)\n}\n"]},"metadata":{},"sourceType":"module"}